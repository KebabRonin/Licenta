/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/
"use strict";

var Jt=Object.defineProperty;var ln=Object.getOwnPropertyDescriptor;var cn=Object.getOwnPropertyNames;var hn=Object.prototype.hasOwnProperty;var un=(i,t)=>{for(var e in t)Jt(i,e,{get:t[e],enumerable:!0})},dn=(i,t,e,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of cn(t))!hn.call(i,o)&&o!==e&&Jt(i,o,{get:()=>t[o],enumerable:!(n=ln(t,o))||n.enumerable});return i};var fn=i=>dn(Jt({},"__esModule",{value:!0}),i);var zn={};un(zn,{default:()=>Qt});module.exports=fn(zn);var rn=require("obsidian");var T=require("obsidian");var Et=["none","text-color","lowlight","floating","rounded","realistic"],De=["css-classes","inline-styles"],te={highlighterStyle:"none",highlighterMethods:"css-classes",highlighters:{r:"#bf616a",g:"#a3be8c",p:"#b48ead",b:"#81a1c1",aa:"#a5756233",o:"#d08770"},highlighterOrder:[],menuMode:"normal",cleanSelectors:[],overwriteMarks:!0};te.highlighterOrder=Object.keys(te.highlighters);var Te=te;function Oe(i){let t=i.toString(16);return t.length===1?"0"+t:t}function _e(i){return parseInt(i,16)}var xe=i=>i[Math.floor(Math.random()*i.length)];function Ie(i){try{let t=new URL(i)}catch(t){return!1}return!0}var Pe=require("obsidian");function Nt(i){let t=createSvg("svg",{attr:{version:"1.1",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}}),e=t.createSvg("g",{attr:{fill:"none",stroke:i,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":2}});return e.createSvg("path",{attr:{d:"m9 11-6 6v3h9l3-3",fill:i}}),e.createSvg("path",{attr:{d:"m22 12l-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4"}}),e.createSvg("path",{attr:{d:"m14 4 8 8-8-8",fill:"none",stroke:i,"stroke-linecap":"butt","stroke-linejoin":"miter"}}),t}function ee(i,t){let e={"painter-icon":Nt("currentColor")};for(let n of t.settings.highlighterOrder){let o=`painter-icon-${n}`.toLowerCase();e[o]=Nt(i.highlighters[n])}return Object.keys(e).forEach(n=>{(0,Pe.addIcon)(n,e[n].outerHTML)}),e}function Ae(i,t){var e=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),e.push.apply(e,n)}return e}function J(i){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?Ae(Object(e),!0).forEach(function(n){gn(i,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(e)):Ae(Object(e)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(e,n))})}return i}function kt(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?kt=function(t){return typeof t}:kt=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kt(i)}function gn(i,t,e){return t in i?Object.defineProperty(i,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):i[t]=e,i}function et(){return et=Object.assign||function(i){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n])}return i},et.apply(this,arguments)}function pn(i,t){if(i==null)return{};var e={},n=Object.keys(i),o,r;for(r=0;r<n.length;r++)o=n[r],!(t.indexOf(o)>=0)&&(e[o]=i[o]);return e}function mn(i,t){if(i==null)return{};var e=pn(i,t),n,o;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);for(o=0;o<r.length;o++)n=r[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(i,n)&&(e[n]=i[n])}return e}var vn="1.15.2";function tt(i){if(typeof window!="undefined"&&window.navigator)return!!navigator.userAgent.match(i)}var nt=tt(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),It=tt(/Edge/i),Me=tt(/firefox/i),Dt=tt(/safari/i)&&!tt(/chrome/i)&&!tt(/android/i),Ge=tt(/iP(ad|od|hone)/i),$e=tt(/chrome/i)&&tt(/android/i),Xe={capture:!1,passive:!1};function D(i,t,e){i.addEventListener(t,e,!nt&&Xe)}function C(i,t,e){i.removeEventListener(t,e,!nt&&Xe)}function Yt(i,t){if(t){if(t[0]===">"&&(t=t.substring(1)),i)try{if(i.matches)return i.matches(t);if(i.msMatchesSelector)return i.msMatchesSelector(t);if(i.webkitMatchesSelector)return i.webkitMatchesSelector(t)}catch(e){return!1}return!1}}function bn(i){return i.host&&i!==document&&i.host.nodeType?i.host:i.parentNode}function U(i,t,e,n){if(i){e=e||document;do{if(t!=null&&(t[0]===">"?i.parentNode===e&&Yt(i,t):Yt(i,t))||n&&i===e)return i;if(i===e)break}while(i=bn(i))}return null}var Ne=/\s+/g;function $(i,t,e){if(i&&t)if(i.classList)i.classList[e?"add":"remove"](t);else{var n=(" "+i.className+" ").replace(Ne," ").replace(" "+t+" "," ");i.className=(n+(e?" "+t:"")).replace(Ne," ")}}function m(i,t,e){var n=i&&i.style;if(n){if(e===void 0)return document.defaultView&&document.defaultView.getComputedStyle?e=document.defaultView.getComputedStyle(i,""):i.currentStyle&&(e=i.currentStyle),t===void 0?e:e[t];!(t in n)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),n[t]=e+(typeof e=="string"?"":"px")}}function mt(i,t){var e="";if(typeof i=="string")e=i;else do{var n=m(i,"transform");n&&n!=="none"&&(e=n+" "+e)}while(!t&&(i=i.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(e)}function Ye(i,t,e){if(i){var n=i.getElementsByTagName(t),o=0,r=n.length;if(e)for(;o<r;o++)e(n[o],o);return n}return[]}function Q(){var i=document.scrollingElement;return i||document.documentElement}function N(i,t,e,n,o){if(!(!i.getBoundingClientRect&&i!==window)){var r,s,a,c,l,d,f;if(i!==window&&i.parentNode&&i!==Q()?(r=i.getBoundingClientRect(),s=r.top,a=r.left,c=r.bottom,l=r.right,d=r.height,f=r.width):(s=0,a=0,c=window.innerHeight,l=window.innerWidth,d=window.innerHeight,f=window.innerWidth),(t||e)&&i!==window&&(o=o||i.parentNode,!nt))do if(o&&o.getBoundingClientRect&&(m(o,"transform")!=="none"||e&&m(o,"position")!=="static")){var g=o.getBoundingClientRect();s-=g.top+parseInt(m(o,"border-top-width")),a-=g.left+parseInt(m(o,"border-left-width")),c=s+r.height,l=a+r.width;break}while(o=o.parentNode);if(n&&i!==window){var p=mt(o||i),b=p&&p.a,E=p&&p.d;p&&(s/=E,a/=b,f/=b,d/=E,c=s+d,l=a+f)}return{top:s,left:a,bottom:c,right:l,width:f,height:d}}}function Le(i,t,e){for(var n=at(i,!0),o=N(i)[t];n;){var r=N(n)[e],s=void 0;if(e==="top"||e==="left"?s=o>=r:s=o<=r,!s)return n;if(n===Q())break;n=at(n,!1)}return!1}function vt(i,t,e,n){for(var o=0,r=0,s=i.children;r<s.length;){if(s[r].style.display!=="none"&&s[r]!==v.ghost&&(n||s[r]!==v.dragged)&&U(s[r],e.draggable,i,!1)){if(o===t)return s[r];o++}r++}return null}function pe(i,t){for(var e=i.lastElementChild;e&&(e===v.ghost||m(e,"display")==="none"||t&&!Yt(e,t));)e=e.previousElementSibling;return e||null}function W(i,t){var e=0;if(!i||!i.parentNode)return-1;for(;i=i.previousElementSibling;)i.nodeName.toUpperCase()!=="TEMPLATE"&&i!==v.clone&&(!t||Yt(i,t))&&e++;return e}function He(i){var t=0,e=0,n=Q();if(i)do{var o=mt(i),r=o.a,s=o.d;t+=i.scrollLeft*r,e+=i.scrollTop*s}while(i!==n&&(i=i.parentNode));return[t,e]}function Sn(i,t){for(var e in i)if(i.hasOwnProperty(e)){for(var n in t)if(t.hasOwnProperty(n)&&t[n]===i[e][n])return Number(e)}return-1}function at(i,t){if(!i||!i.getBoundingClientRect)return Q();var e=i,n=!1;do if(e.clientWidth<e.scrollWidth||e.clientHeight<e.scrollHeight){var o=m(e);if(e.clientWidth<e.scrollWidth&&(o.overflowX=="auto"||o.overflowX=="scroll")||e.clientHeight<e.scrollHeight&&(o.overflowY=="auto"||o.overflowY=="scroll")){if(!e.getBoundingClientRect||e===document.body)return Q();if(n||t)return e;n=!0}}while(e=e.parentNode);return Q()}function En(i,t){if(i&&t)for(var e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);return i}function ne(i,t){return Math.round(i.top)===Math.round(t.top)&&Math.round(i.left)===Math.round(t.left)&&Math.round(i.height)===Math.round(t.height)&&Math.round(i.width)===Math.round(t.width)}var Tt;function We(i,t){return function(){if(!Tt){var e=arguments,n=this;e.length===1?i.call(n,e[0]):i.apply(n,e),Tt=setTimeout(function(){Tt=void 0},t)}}}function yn(){clearTimeout(Tt),Tt=void 0}function je(i,t,e){i.scrollLeft+=t,i.scrollTop+=e}function Ve(i){var t=window.Polymer,e=window.jQuery||window.Zepto;return t&&t.dom?t.dom(i).cloneNode(!0):e?e(i).clone(!0)[0]:i.cloneNode(!0)}function Ke(i,t,e){var n={};return Array.from(i.children).forEach(function(o){var r,s,a,c;if(!(!U(o,t.draggable,i,!1)||o.animated||o===e)){var l=N(o);n.left=Math.min((r=n.left)!==null&&r!==void 0?r:1/0,l.left),n.top=Math.min((s=n.top)!==null&&s!==void 0?s:1/0,l.top),n.right=Math.max((a=n.right)!==null&&a!==void 0?a:-1/0,l.right),n.bottom=Math.max((c=n.bottom)!==null&&c!==void 0?c:-1/0,l.bottom)}}),n.width=n.right-n.left,n.height=n.bottom-n.top,n.x=n.left,n.y=n.top,n}var Y="Sortable"+new Date().getTime();function wn(){var i=[],t;return{captureAnimationState:function(){if(i=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(o){if(!(m(o,"display")==="none"||o===v.ghost)){i.push({target:o,rect:N(o)});var r=J({},i[i.length-1].rect);if(o.thisAnimationDuration){var s=mt(o,!0);s&&(r.top-=s.f,r.left-=s.e)}o.fromRect=r}})}},addAnimationState:function(n){i.push(n)},removeAnimationState:function(n){i.splice(Sn(i,{target:n}),1)},animateAll:function(n){var o=this;if(!this.options.animation){clearTimeout(t),typeof n=="function"&&n();return}var r=!1,s=0;i.forEach(function(a){var c=0,l=a.target,d=l.fromRect,f=N(l),g=l.prevFromRect,p=l.prevToRect,b=a.rect,E=mt(l,!0);E&&(f.top-=E.f,f.left-=E.e),l.toRect=f,l.thisAnimationDuration&&ne(g,f)&&!ne(d,f)&&(b.top-f.top)/(b.left-f.left)===(d.top-f.top)/(d.left-f.left)&&(c=Dn(b,g,p,o.options)),ne(f,d)||(l.prevFromRect=d,l.prevToRect=f,c||(c=o.options.animation),o.animate(l,b,f,c)),c&&(r=!0,s=Math.max(s,c),clearTimeout(l.animationResetTimer),l.animationResetTimer=setTimeout(function(){l.animationTime=0,l.prevFromRect=null,l.fromRect=null,l.prevToRect=null,l.thisAnimationDuration=null},c),l.thisAnimationDuration=c)}),clearTimeout(t),r?t=setTimeout(function(){typeof n=="function"&&n()},s):typeof n=="function"&&n(),i=[]},animate:function(n,o,r,s){if(s){m(n,"transition",""),m(n,"transform","");var a=mt(this.el),c=a&&a.a,l=a&&a.d,d=(o.left-r.left)/(c||1),f=(o.top-r.top)/(l||1);n.animatingX=!!d,n.animatingY=!!f,m(n,"transform","translate3d("+d+"px,"+f+"px,0)"),this.forRepaintDummy=Cn(n),m(n,"transition","transform "+s+"ms"+(this.options.easing?" "+this.options.easing:"")),m(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){m(n,"transition",""),m(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},s)}}}}function Cn(i){return i.offsetWidth}function Dn(i,t,e,n){return Math.sqrt(Math.pow(t.top-i.top,2)+Math.pow(t.left-i.left,2))/Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))*n.animation}var dt=[],ie={initializeByDefault:!0},Pt={mount:function(t){for(var e in ie)ie.hasOwnProperty(e)&&!(e in t)&&(t[e]=ie[e]);dt.forEach(function(n){if(n.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),dt.push(t)},pluginEvent:function(t,e,n){var o=this;this.eventCanceled=!1,n.cancel=function(){o.eventCanceled=!0};var r=t+"Global";dt.forEach(function(s){e[s.pluginName]&&(e[s.pluginName][r]&&e[s.pluginName][r](J({sortable:e},n)),e.options[s.pluginName]&&e[s.pluginName][t]&&e[s.pluginName][t](J({sortable:e},n)))})},initializePlugins:function(t,e,n,o){dt.forEach(function(a){var c=a.pluginName;if(!(!t.options[c]&&!a.initializeByDefault)){var l=new a(t,e,t.options);l.sortable=t,l.options=t.options,t[c]=l,et(n,l.defaults)}});for(var r in t.options)if(t.options.hasOwnProperty(r)){var s=this.modifyOption(t,r,t.options[r]);typeof s!="undefined"&&(t.options[r]=s)}},getEventProperties:function(t,e){var n={};return dt.forEach(function(o){typeof o.eventProperties=="function"&&et(n,o.eventProperties.call(e[o.pluginName],t))}),n},modifyOption:function(t,e,n){var o;return dt.forEach(function(r){t[r.pluginName]&&r.optionListeners&&typeof r.optionListeners[e]=="function"&&(o=r.optionListeners[e].call(t[r.pluginName],n))}),o}};function Tn(i){var t=i.sortable,e=i.rootEl,n=i.name,o=i.targetEl,r=i.cloneEl,s=i.toEl,a=i.fromEl,c=i.oldIndex,l=i.newIndex,d=i.oldDraggableIndex,f=i.newDraggableIndex,g=i.originalEvent,p=i.putSortable,b=i.extraEventProperties;if(t=t||e&&e[Y],!!t){var E,O=t.options,A="on"+n.charAt(0).toUpperCase()+n.substr(1);window.CustomEvent&&!nt&&!It?E=new CustomEvent(n,{bubbles:!0,cancelable:!0}):(E=document.createEvent("Event"),E.initEvent(n,!0,!0)),E.to=s||e,E.from=a||e,E.item=o||e,E.clone=r,E.oldIndex=c,E.newIndex=l,E.oldDraggableIndex=d,E.newDraggableIndex=f,E.originalEvent=g,E.pullMode=p?p.lastPutMode:void 0;var _=J(J({},b),Pt.getEventProperties(n,t));for(var L in _)E[L]=_[L];e&&e.dispatchEvent(E),O[A]&&O[A].call(t,E)}}var On=["evt"],B=function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=n.evt,r=mn(n,On);Pt.pluginEvent.bind(v)(t,e,J({dragEl:u,parentEl:P,ghostEl:S,rootEl:x,nextEl:ht,lastDownEl:Bt,cloneEl:I,cloneHidden:st,dragStarted:yt,putSortable:H,activeSortable:v.active,originalEvent:o,oldIndex:pt,oldDraggableIndex:Ot,newIndex:X,newDraggableIndex:rt,hideGhostForTarget:Ze,unhideGhostForTarget:Qe,cloneNowHidden:function(){st=!0},cloneNowShown:function(){st=!1},dispatchSortableEvent:function(a){F({sortable:e,name:a,originalEvent:o})}},r))};function F(i){Tn(J({putSortable:H,cloneEl:I,targetEl:u,rootEl:x,oldIndex:pt,oldDraggableIndex:Ot,newIndex:X,newDraggableIndex:rt},i))}var u,P,S,x,ht,Bt,I,st,pt,X,Ot,rt,Lt,H,gt=!1,Wt=!1,jt=[],lt,K,oe,re,Re,Fe,yt,ft,_t,xt=!1,Ht=!1,Gt,R,se=[],ue=!1,Vt=[],Ut=typeof document!="undefined",Rt=Ge,ke=It||nt?"cssFloat":"float",_n=Ut&&!$e&&!Ge&&"draggable"in document.createElement("div"),Ue=function(){if(Ut){if(nt)return!1;var i=document.createElement("x");return i.style.cssText="pointer-events:auto",i.style.pointerEvents==="auto"}}(),ze=function(t,e){var n=m(t),o=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),r=vt(t,0,e),s=vt(t,1,e),a=r&&m(r),c=s&&m(s),l=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+N(r).width,d=c&&parseInt(c.marginLeft)+parseInt(c.marginRight)+N(s).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&a.float&&a.float!=="none"){var f=a.float==="left"?"left":"right";return s&&(c.clear==="both"||c.clear===f)?"vertical":"horizontal"}return r&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||l>=o&&n[ke]==="none"||s&&n[ke]==="none"&&l+d>o)?"vertical":"horizontal"},xn=function(t,e,n){var o=n?t.left:t.top,r=n?t.right:t.bottom,s=n?t.width:t.height,a=n?e.left:e.top,c=n?e.right:e.bottom,l=n?e.width:e.height;return o===a||r===c||o+s/2===a+l/2},In=function(t,e){var n;return jt.some(function(o){var r=o[Y].options.emptyInsertThreshold;if(!(!r||pe(o))){var s=N(o),a=t>=s.left-r&&t<=s.right+r,c=e>=s.top-r&&e<=s.bottom+r;if(a&&c)return n=o}}),n},qe=function(t){function e(r,s){return function(a,c,l,d){var f=a.options.group.name&&c.options.group.name&&a.options.group.name===c.options.group.name;if(r==null&&(s||f))return!0;if(r==null||r===!1)return!1;if(s&&r==="clone")return r;if(typeof r=="function")return e(r(a,c,l,d),s)(a,c,l,d);var g=(s?a:c).options.group.name;return r===!0||typeof r=="string"&&r===g||r.join&&r.indexOf(g)>-1}}var n={},o=t.group;(!o||kt(o)!="object")&&(o={name:o}),n.name=o.name,n.checkPull=e(o.pull,!0),n.checkPut=e(o.put),n.revertClone=o.revertClone,t.group=n},Ze=function(){!Ue&&S&&m(S,"display","none")},Qe=function(){!Ue&&S&&m(S,"display","")};Ut&&!$e&&document.addEventListener("click",function(i){if(Wt)return i.preventDefault(),i.stopPropagation&&i.stopPropagation(),i.stopImmediatePropagation&&i.stopImmediatePropagation(),Wt=!1,!1},!0);var ct=function(t){if(u){t=t.touches?t.touches[0]:t;var e=In(t.clientX,t.clientY);if(e){var n={};for(var o in t)t.hasOwnProperty(o)&&(n[o]=t[o]);n.target=n.rootEl=e,n.preventDefault=void 0,n.stopPropagation=void 0,e[Y]._onDragOver(n)}}},Pn=function(t){u&&u.parentNode[Y]._isOutsideThisEl(t.target)};function v(i,t){if(!(i&&i.nodeType&&i.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(i));this.el=i,this.options=t=et({},t),i[Y]=this;var e={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(i.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return ze(i,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(s,a){s.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:v.supportPointer!==!1&&"PointerEvent"in window&&!Dt,emptyInsertThreshold:5};Pt.initializePlugins(this,i,e);for(var n in e)!(n in t)&&(t[n]=e[n]);qe(t);for(var o in this)o.charAt(0)==="_"&&typeof this[o]=="function"&&(this[o]=this[o].bind(this));this.nativeDraggable=t.forceFallback?!1:_n,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?D(i,"pointerdown",this._onTapStart):(D(i,"mousedown",this._onTapStart),D(i,"touchstart",this._onTapStart)),this.nativeDraggable&&(D(i,"dragover",this),D(i,"dragenter",this)),jt.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),et(this,wn())}v.prototype={constructor:v,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(ft=null)},_getDirection:function(t,e){return typeof this.options.direction=="function"?this.options.direction.call(this,t,e,u):this.options.direction},_onTapStart:function(t){if(t.cancelable){var e=this,n=this.el,o=this.options,r=o.preventOnFilter,s=t.type,a=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,c=(a||t).target,l=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||c,d=o.filter;if(kn(n),!u&&!(/mousedown|pointerdown/.test(s)&&t.button!==0||o.disabled)&&!l.isContentEditable&&!(!this.nativeDraggable&&Dt&&c&&c.tagName.toUpperCase()==="SELECT")&&(c=U(c,o.draggable,n,!1),!(c&&c.animated)&&Bt!==c)){if(pt=W(c),Ot=W(c,o.draggable),typeof d=="function"){if(d.call(this,t,c,this)){F({sortable:e,rootEl:l,name:"filter",targetEl:c,toEl:n,fromEl:n}),B("filter",e,{evt:t}),r&&t.cancelable&&t.preventDefault();return}}else if(d&&(d=d.split(",").some(function(f){if(f=U(l,f.trim(),n,!1),f)return F({sortable:e,rootEl:f,name:"filter",targetEl:c,fromEl:n,toEl:n}),B("filter",e,{evt:t}),!0}),d)){r&&t.cancelable&&t.preventDefault();return}o.handle&&!U(l,o.handle,n,!1)||this._prepareDragStart(t,a,c)}}},_prepareDragStart:function(t,e,n){var o=this,r=o.el,s=o.options,a=r.ownerDocument,c;if(n&&!u&&n.parentNode===r){var l=N(n);if(x=r,u=n,P=u.parentNode,ht=u.nextSibling,Bt=n,Lt=s.group,v.dragged=u,lt={target:u,clientX:(e||t).clientX,clientY:(e||t).clientY},Re=lt.clientX-l.left,Fe=lt.clientY-l.top,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,u.style["will-change"]="all",c=function(){if(B("delayEnded",o,{evt:t}),v.eventCanceled){o._onDrop();return}o._disableDelayedDragEvents(),!Me&&o.nativeDraggable&&(u.draggable=!0),o._triggerDragStart(t,e),F({sortable:o,name:"choose",originalEvent:t}),$(u,s.chosenClass,!0)},s.ignore.split(",").forEach(function(d){Ye(u,d.trim(),ae)}),D(a,"dragover",ct),D(a,"mousemove",ct),D(a,"touchmove",ct),D(a,"mouseup",o._onDrop),D(a,"touchend",o._onDrop),D(a,"touchcancel",o._onDrop),Me&&this.nativeDraggable&&(this.options.touchStartThreshold=4,u.draggable=!0),B("delayStart",this,{evt:t}),s.delay&&(!s.delayOnTouchOnly||e)&&(!this.nativeDraggable||!(It||nt))){if(v.eventCanceled){this._onDrop();return}D(a,"mouseup",o._disableDelayedDrag),D(a,"touchend",o._disableDelayedDrag),D(a,"touchcancel",o._disableDelayedDrag),D(a,"mousemove",o._delayedDragTouchMoveHandler),D(a,"touchmove",o._delayedDragTouchMoveHandler),s.supportPointer&&D(a,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(c,s.delay)}else c()}},_delayedDragTouchMoveHandler:function(t){var e=t.touches?t.touches[0]:t;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){u&&ae(u),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;C(t,"mouseup",this._disableDelayedDrag),C(t,"touchend",this._disableDelayedDrag),C(t,"touchcancel",this._disableDelayedDrag),C(t,"mousemove",this._delayedDragTouchMoveHandler),C(t,"touchmove",this._delayedDragTouchMoveHandler),C(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||t.pointerType=="touch"&&t,!this.nativeDraggable||e?this.options.supportPointer?D(document,"pointermove",this._onTouchMove):e?D(document,"touchmove",this._onTouchMove):D(document,"mousemove",this._onTouchMove):(D(u,"dragend",this),D(x,"dragstart",this._onDragStart));try{document.selection?$t(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(n){}},_dragStarted:function(t,e){if(gt=!1,x&&u){B("dragStarted",this,{evt:e}),this.nativeDraggable&&D(document,"dragover",Pn);var n=this.options;!t&&$(u,n.dragClass,!1),$(u,n.ghostClass,!0),v.active=this,t&&this._appendGhost(),F({sortable:this,name:"start",originalEvent:e})}else this._nulling()},_emulateDragOver:function(){if(K){this._lastX=K.clientX,this._lastY=K.clientY,Ze();for(var t=document.elementFromPoint(K.clientX,K.clientY),e=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(K.clientX,K.clientY),t!==e);)e=t;if(u.parentNode[Y]._isOutsideThisEl(t),e)do{if(e[Y]){var n=void 0;if(n=e[Y]._onDragOver({clientX:K.clientX,clientY:K.clientY,target:t,rootEl:e}),n&&!this.options.dragoverBubble)break}t=e}while(e=e.parentNode);Qe()}},_onTouchMove:function(t){if(lt){var e=this.options,n=e.fallbackTolerance,o=e.fallbackOffset,r=t.touches?t.touches[0]:t,s=S&&mt(S,!0),a=S&&s&&s.a,c=S&&s&&s.d,l=Rt&&R&&He(R),d=(r.clientX-lt.clientX+o.x)/(a||1)+(l?l[0]-se[0]:0)/(a||1),f=(r.clientY-lt.clientY+o.y)/(c||1)+(l?l[1]-se[1]:0)/(c||1);if(!v.active&&!gt){if(n&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<n)return;this._onDragStart(t,!0)}if(S){s?(s.e+=d-(oe||0),s.f+=f-(re||0)):s={a:1,b:0,c:0,d:1,e:d,f};var g="matrix(".concat(s.a,",").concat(s.b,",").concat(s.c,",").concat(s.d,",").concat(s.e,",").concat(s.f,")");m(S,"webkitTransform",g),m(S,"mozTransform",g),m(S,"msTransform",g),m(S,"transform",g),oe=d,re=f,K=r}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!S){var t=this.options.fallbackOnBody?document.body:x,e=N(u,!0,Rt,!0,t),n=this.options;if(Rt){for(R=t;m(R,"position")==="static"&&m(R,"transform")==="none"&&R!==document;)R=R.parentNode;R!==document.body&&R!==document.documentElement?(R===document&&(R=Q()),e.top+=R.scrollTop,e.left+=R.scrollLeft):R=Q(),se=He(R)}S=u.cloneNode(!0),$(S,n.ghostClass,!1),$(S,n.fallbackClass,!0),$(S,n.dragClass,!0),m(S,"transition",""),m(S,"transform",""),m(S,"box-sizing","border-box"),m(S,"margin",0),m(S,"top",e.top),m(S,"left",e.left),m(S,"width",e.width),m(S,"height",e.height),m(S,"opacity","0.8"),m(S,"position",Rt?"absolute":"fixed"),m(S,"zIndex","100000"),m(S,"pointerEvents","none"),v.ghost=S,t.appendChild(S),m(S,"transform-origin",Re/parseInt(S.style.width)*100+"% "+Fe/parseInt(S.style.height)*100+"%")}},_onDragStart:function(t,e){var n=this,o=t.dataTransfer,r=n.options;if(B("dragStart",this,{evt:t}),v.eventCanceled){this._onDrop();return}B("setupClone",this),v.eventCanceled||(I=Ve(u),I.removeAttribute("id"),I.draggable=!1,I.style["will-change"]="",this._hideClone(),$(I,this.options.chosenClass,!1),v.clone=I),n.cloneId=$t(function(){B("clone",n),!v.eventCanceled&&(n.options.removeCloneOnHide||x.insertBefore(I,u),n._hideClone(),F({sortable:n,name:"clone"}))}),!e&&$(u,r.dragClass,!0),e?(Wt=!0,n._loopId=setInterval(n._emulateDragOver,50)):(C(document,"mouseup",n._onDrop),C(document,"touchend",n._onDrop),C(document,"touchcancel",n._onDrop),o&&(o.effectAllowed="move",r.setData&&r.setData.call(n,o,u)),D(document,"drop",n),m(u,"transform","translateZ(0)")),gt=!0,n._dragStartId=$t(n._dragStarted.bind(n,e,t)),D(document,"selectstart",n),yt=!0,Dt&&m(document.body,"user-select","none")},_onDragOver:function(t){var e=this.el,n=t.target,o,r,s,a=this.options,c=a.group,l=v.active,d=Lt===c,f=a.sort,g=H||l,p,b=this,E=!1;if(ue)return;function O(St,sn){B(St,b,J({evt:t,isOwner:d,axis:p?"vertical":"horizontal",revert:s,dragRect:o,targetRect:r,canSort:f,fromSortable:g,target:n,completed:_,onMove:function(Ce,an){return Ft(x,e,u,o,Ce,N(Ce),t,an)},changed:L},sn))}function A(){O("dragOverAnimationCapture"),b.captureAnimationState(),b!==g&&g.captureAnimationState()}function _(St){return O("dragOverCompleted",{insertion:St}),St&&(d?l._hideClone():l._showClone(b),b!==g&&($(u,H?H.options.ghostClass:l.options.ghostClass,!1),$(u,a.ghostClass,!0)),H!==b&&b!==v.active?H=b:b===v.active&&H&&(H=null),g===b&&(b._ignoreWhileAnimating=n),b.animateAll(function(){O("dragOverAnimationComplete"),b._ignoreWhileAnimating=null}),b!==g&&(g.animateAll(),g._ignoreWhileAnimating=null)),(n===u&&!u.animated||n===e&&!n.animated)&&(ft=null),!a.dragoverBubble&&!t.rootEl&&n!==document&&(u.parentNode[Y]._isOutsideThisEl(t.target),!St&&ct(t)),!a.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),E=!0}function L(){X=W(u),rt=W(u,a.draggable),F({sortable:b,name:"change",toEl:e,newIndex:X,newDraggableIndex:rt,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),n=U(n,a.draggable,e,!0),O("dragOver"),v.eventCanceled)return E;if(u.contains(t.target)||n.animated&&n.animatingX&&n.animatingY||b._ignoreWhileAnimating===n)return _(!1);if(Wt=!1,l&&!a.disabled&&(d?f||(s=P!==x):H===this||(this.lastPutMode=Lt.checkPull(this,l,u,t))&&c.checkPut(this,l,u,t))){if(p=this._getDirection(t,n)==="vertical",o=N(u),O("dragOverValid"),v.eventCanceled)return E;if(s)return P=x,A(),this._hideClone(),O("revert"),v.eventCanceled||(ht?x.insertBefore(u,ht):x.appendChild(u)),_(!0);var k=pe(e,a.draggable);if(!k||Ln(t,p,this)&&!k.animated){if(k===u)return _(!1);if(k&&e===t.target&&(n=k),n&&(r=N(n)),Ft(x,e,u,o,n,r,t,!!n)!==!1)return A(),k&&k.nextSibling?e.insertBefore(u,k.nextSibling):e.appendChild(u),P=e,L(),_(!0)}else if(k&&Nn(t,p,this)){var z=vt(e,0,a,!0);if(z===u)return _(!1);if(n=z,r=N(n),Ft(x,e,u,o,n,r,t,!1)!==!1)return A(),e.insertBefore(u,z),P=e,L(),_(!0)}else if(n.parentNode===e){r=N(n);var j=0,h,y=u.parentNode!==e,w=!xn(u.animated&&u.toRect||o,n.animated&&n.toRect||r,p),G=p?"top":"left",q=Le(n,"top","top")||Le(u,"top","top"),ut=q?q.scrollTop:void 0;ft!==n&&(h=r[G],xt=!1,Ht=!w&&a.invertSwap||y),j=Hn(t,n,r,p,w?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,Ht,ft===n);var Z;if(j!==0){var V=W(u);do V-=j,Z=P.children[V];while(Z&&(m(Z,"display")==="none"||Z===S))}if(j===0||Z===n)return _(!1);ft=n,_t=j;var it=n.nextElementSibling,ot=!1;ot=j===1;var Mt=Ft(x,e,u,o,n,r,t,ot);if(Mt!==!1)return(Mt===1||Mt===-1)&&(ot=Mt===1),ue=!0,setTimeout(Mn,30),A(),ot&&!it?e.appendChild(u):n.parentNode.insertBefore(u,ot?it:n),q&&je(q,0,ut-q.scrollTop),P=u.parentNode,h!==void 0&&!Ht&&(Gt=Math.abs(h-N(n)[G])),L(),_(!0)}if(e.contains(u))return _(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){C(document,"mousemove",this._onTouchMove),C(document,"touchmove",this._onTouchMove),C(document,"pointermove",this._onTouchMove),C(document,"dragover",ct),C(document,"mousemove",ct),C(document,"touchmove",ct)},_offUpEvents:function(){var t=this.el.ownerDocument;C(t,"mouseup",this._onDrop),C(t,"touchend",this._onDrop),C(t,"pointerup",this._onDrop),C(t,"touchcancel",this._onDrop),C(document,"selectstart",this)},_onDrop:function(t){var e=this.el,n=this.options;if(X=W(u),rt=W(u,n.draggable),B("drop",this,{evt:t}),P=u&&u.parentNode,X=W(u),rt=W(u,n.draggable),v.eventCanceled){this._nulling();return}gt=!1,Ht=!1,xt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),de(this.cloneId),de(this._dragStartId),this.nativeDraggable&&(C(document,"drop",this),C(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Dt&&m(document.body,"user-select",""),m(u,"transform",""),t&&(yt&&(t.cancelable&&t.preventDefault(),!n.dropBubble&&t.stopPropagation()),S&&S.parentNode&&S.parentNode.removeChild(S),(x===P||H&&H.lastPutMode!=="clone")&&I&&I.parentNode&&I.parentNode.removeChild(I),u&&(this.nativeDraggable&&C(u,"dragend",this),ae(u),u.style["will-change"]="",yt&&!gt&&$(u,H?H.options.ghostClass:this.options.ghostClass,!1),$(u,this.options.chosenClass,!1),F({sortable:this,name:"unchoose",toEl:P,newIndex:null,newDraggableIndex:null,originalEvent:t}),x!==P?(X>=0&&(F({rootEl:P,name:"add",toEl:P,fromEl:x,originalEvent:t}),F({sortable:this,name:"remove",toEl:P,originalEvent:t}),F({rootEl:P,name:"sort",toEl:P,fromEl:x,originalEvent:t}),F({sortable:this,name:"sort",toEl:P,originalEvent:t})),H&&H.save()):X!==pt&&X>=0&&(F({sortable:this,name:"update",toEl:P,originalEvent:t}),F({sortable:this,name:"sort",toEl:P,originalEvent:t})),v.active&&((X==null||X===-1)&&(X=pt,rt=Ot),F({sortable:this,name:"end",toEl:P,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){B("nulling",this),x=u=P=S=ht=I=Bt=st=lt=K=yt=X=rt=pt=Ot=ft=_t=H=Lt=v.dragged=v.ghost=v.clone=v.active=null,Vt.forEach(function(t){t.checked=!0}),Vt.length=oe=re=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":u&&(this._onDragOver(t),An(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],e,n=this.el.children,o=0,r=n.length,s=this.options;o<r;o++)e=n[o],U(e,s.draggable,this.el,!1)&&t.push(e.getAttribute(s.dataIdAttr)||Fn(e));return t},sort:function(t,e){var n={},o=this.el;this.toArray().forEach(function(r,s){var a=o.children[s];U(a,this.options.draggable,o,!1)&&(n[r]=a)},this),e&&this.captureAnimationState(),t.forEach(function(r){n[r]&&(o.removeChild(n[r]),o.appendChild(n[r]))}),e&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return U(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var n=this.options;if(e===void 0)return n[t];var o=Pt.modifyOption(this,t,e);typeof o!="undefined"?n[t]=o:n[t]=e,t==="group"&&qe(n)},destroy:function(){B("destroy",this);var t=this.el;t[Y]=null,C(t,"mousedown",this._onTapStart),C(t,"touchstart",this._onTapStart),C(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(C(t,"dragover",this),C(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),jt.splice(jt.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!st){if(B("hideClone",this),v.eventCanceled)return;m(I,"display","none"),this.options.removeCloneOnHide&&I.parentNode&&I.parentNode.removeChild(I),st=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(st){if(B("showClone",this),v.eventCanceled)return;u.parentNode==x&&!this.options.group.revertClone?x.insertBefore(I,u):ht?x.insertBefore(I,ht):x.appendChild(I),this.options.group.revertClone&&this.animate(u,I),m(I,"display",""),st=!1}}};function An(i){i.dataTransfer&&(i.dataTransfer.dropEffect="move"),i.cancelable&&i.preventDefault()}function Ft(i,t,e,n,o,r,s,a){var c,l=i[Y],d=l.options.onMove,f;return window.CustomEvent&&!nt&&!It?c=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(c=document.createEvent("Event"),c.initEvent("move",!0,!0)),c.to=t,c.from=i,c.dragged=e,c.draggedRect=n,c.related=o||t,c.relatedRect=r||N(t),c.willInsertAfter=a,c.originalEvent=s,i.dispatchEvent(c),d&&(f=d.call(l,c,s)),f}function ae(i){i.draggable=!1}function Mn(){ue=!1}function Nn(i,t,e){var n=N(vt(e.el,0,e.options,!0)),o=Ke(e.el,e.options,S),r=10;return t?i.clientX<o.left-r||i.clientY<n.top&&i.clientX<n.right:i.clientY<o.top-r||i.clientY<n.bottom&&i.clientX<n.left}function Ln(i,t,e){var n=N(pe(e.el,e.options.draggable)),o=Ke(e.el,e.options,S),r=10;return t?i.clientX>o.right+r||i.clientY>n.bottom&&i.clientX>n.left:i.clientY>o.bottom+r||i.clientX>n.right&&i.clientY>n.top}function Hn(i,t,e,n,o,r,s,a){var c=n?i.clientY:i.clientX,l=n?e.height:e.width,d=n?e.top:e.left,f=n?e.bottom:e.right,g=!1;if(!s){if(a&&Gt<l*o){if(!xt&&(_t===1?c>d+l*r/2:c<f-l*r/2)&&(xt=!0),xt)g=!0;else if(_t===1?c<d+Gt:c>f-Gt)return-_t}else if(c>d+l*(1-o)/2&&c<f-l*(1-o)/2)return Rn(t)}return g=g||s,g&&(c<d+l*r/2||c>f-l*r/2)?c>d+l/2?1:-1:0}function Rn(i){return W(u)<W(i)?1:-1}function Fn(i){for(var t=i.tagName+i.className+i.src+i.href+i.textContent,e=t.length,n=0;e--;)n+=t.charCodeAt(e);return n.toString(36)}function kn(i){Vt.length=0;for(var t=i.getElementsByTagName("input"),e=t.length;e--;){var n=t[e];n.checked&&Vt.push(n)}}function $t(i){return setTimeout(i,0)}function de(i){return clearTimeout(i)}Ut&&D(document,"touchmove",function(i){(v.active||gt)&&i.cancelable&&i.preventDefault()});v.utils={on:D,off:C,css:m,find:Ye,is:function(t,e){return!!U(t,e,t,!1)},extend:En,throttle:We,closest:U,toggleClass:$,clone:Ve,index:W,nextTick:$t,cancelNextTick:de,detectDirection:ze,getChild:vt};v.get=function(i){return i[Y]};v.mount=function(){for(var i=arguments.length,t=new Array(i),e=0;e<i;e++)t[e]=arguments[e];t[0].constructor===Array&&(t=t[0]),t.forEach(function(n){if(!n.prototype||!n.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(n));n.utils&&(v.utils=J(J({},v.utils),n.utils)),Pt.mount(n)})};v.create=function(i,t){return new v(i,t)};v.version=vn;var M=[],wt,fe,ge=!1,le,ce,Kt,Ct;function Bn(){function i(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return i.prototype={dragStarted:function(e){var n=e.originalEvent;this.sortable.nativeDraggable?D(document,"dragover",this._handleAutoScroll):this.options.supportPointer?D(document,"pointermove",this._handleFallbackAutoScroll):n.touches?D(document,"touchmove",this._handleFallbackAutoScroll):D(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var n=e.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?C(document,"dragover",this._handleAutoScroll):(C(document,"pointermove",this._handleFallbackAutoScroll),C(document,"touchmove",this._handleFallbackAutoScroll),C(document,"mousemove",this._handleFallbackAutoScroll)),Be(),Xt(),yn()},nulling:function(){Kt=fe=wt=ge=Ct=le=ce=null,M.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,n){var o=this,r=(e.touches?e.touches[0]:e).clientX,s=(e.touches?e.touches[0]:e).clientY,a=document.elementFromPoint(r,s);if(Kt=e,n||this.options.forceAutoScrollFallback||It||nt||Dt){he(e,this.options,a,n);var c=at(a,!0);ge&&(!Ct||r!==le||s!==ce)&&(Ct&&Be(),Ct=setInterval(function(){var l=at(document.elementFromPoint(r,s),!0);l!==c&&(c=l,Xt()),he(e,o.options,l,n)},10),le=r,ce=s)}else{if(!this.options.bubbleScroll||at(a,!0)===Q()){Xt();return}he(e,this.options,at(a,!1),!1)}}},et(i,{pluginName:"scroll",initializeByDefault:!0})}function Xt(){M.forEach(function(i){clearInterval(i.pid)}),M=[]}function Be(){clearInterval(Ct)}var he=We(function(i,t,e,n){if(t.scroll){var o=(i.touches?i.touches[0]:i).clientX,r=(i.touches?i.touches[0]:i).clientY,s=t.scrollSensitivity,a=t.scrollSpeed,c=Q(),l=!1,d;fe!==e&&(fe=e,Xt(),wt=t.scroll,d=t.scrollFn,wt===!0&&(wt=at(e,!0)));var f=0,g=wt;do{var p=g,b=N(p),E=b.top,O=b.bottom,A=b.left,_=b.right,L=b.width,k=b.height,z=void 0,j=void 0,h=p.scrollWidth,y=p.scrollHeight,w=m(p),G=p.scrollLeft,q=p.scrollTop;p===c?(z=L<h&&(w.overflowX==="auto"||w.overflowX==="scroll"||w.overflowX==="visible"),j=k<y&&(w.overflowY==="auto"||w.overflowY==="scroll"||w.overflowY==="visible")):(z=L<h&&(w.overflowX==="auto"||w.overflowX==="scroll"),j=k<y&&(w.overflowY==="auto"||w.overflowY==="scroll"));var ut=z&&(Math.abs(_-o)<=s&&G+L<h)-(Math.abs(A-o)<=s&&!!G),Z=j&&(Math.abs(O-r)<=s&&q+k<y)-(Math.abs(E-r)<=s&&!!q);if(!M[f])for(var V=0;V<=f;V++)M[V]||(M[V]={});(M[f].vx!=ut||M[f].vy!=Z||M[f].el!==p)&&(M[f].el=p,M[f].vx=ut,M[f].vy=Z,clearInterval(M[f].pid),(ut!=0||Z!=0)&&(l=!0,M[f].pid=setInterval(function(){n&&this.layer===0&&v.active._onTouchMove(Kt);var it=M[this.layer].vy?M[this.layer].vy*a:0,ot=M[this.layer].vx?M[this.layer].vx*a:0;typeof d=="function"&&d.call(v.dragged.parentNode[Y],ot,it,i,Kt,M[this.layer].el)!=="continue"||je(M[this.layer].el,ot,it)}.bind({layer:f}),24))),f++}while(t.bubbleScroll&&g!==c&&(g=at(g,!1)));ge=l}},30),Je=function(t){var e=t.originalEvent,n=t.putSortable,o=t.dragEl,r=t.activeSortable,s=t.dispatchSortableEvent,a=t.hideGhostForTarget,c=t.unhideGhostForTarget;if(e){var l=n||r;a();var d=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,f=document.elementFromPoint(d.clientX,d.clientY);c(),l&&!l.el.contains(f)&&(s("spill"),this.onSpill({dragEl:o,putSortable:n}))}};function me(){}me.prototype={startIndex:null,dragStart:function(t){var e=t.oldDraggableIndex;this.startIndex=e},onSpill:function(t){var e=t.dragEl,n=t.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var o=vt(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(e,o):this.sortable.el.appendChild(e),this.sortable.animateAll(),n&&n.animateAll()},drop:Je};et(me,{pluginName:"revertOnSpill"});function ve(){}ve.prototype={onSpill:function(t){var e=t.dragEl,n=t.putSortable,o=n||this.sortable;o.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),o.animateAll()},drop:Je};et(ve,{pluginName:"removeOnSpill"});v.mount(new Bn);v.mount(ve,me);var tn=v;var zt=class extends T.PluginSettingTab{constructor(e,n){super(e,n);this.plugin=n}display(){let{containerEl:e}=this;e.empty(),new T.Setting(e).setName("Menu Mode").setDesc("Set the menu style - 'minimal' shows icons only in one line").addDropdown(h=>{h.addOptions({minimal:"minimal",normal:"normal"}),h.setValue(this.plugin.settings.menuMode).onChange(y=>{this.plugin.settings.menuMode=y,this.plugin.saveSettings(),this.plugin.refresh()})}),new T.Setting(e).setName("Choose highlight method").setDesc("Choose between highlighting with inline CSS or CSS classes. Please note that there are pros and cons to both choices. Inline CSS will keep you from being reliant on external CSS files if you choose to export your notes. CSS classes are more flexible and easier to customize.").addDropdown(h=>{let y={};De.map(w=>y[w]=w),h.addOptions(y),h.setValue(this.plugin.settings.highlighterMethods).onChange(w=>{this.plugin.settings.highlighterMethods=w,setTimeout(()=>{dispatchEvent(new Event("painter:refreshstyles"))},100),this.plugin.saveSettings()})}),new T.Setting(e).setName("Additional CSS Selectors to clear").setDesc('The "Painter: Clear" command clears all "mark" elements. However, you might wish to remove other elements as well. Add CSS Selectors to be cleaned here (one per line)').addTextArea(h=>{h.inputEl.style.resize="vertical",h.setValue(this.plugin.settings.cleanSelectors.join(`
`)),h.onChange(y=>{let w=y.split(`
`).map(G=>G.trim()).filter(G=>G!=="");this.plugin.settings.cleanSelectors=w,this.plugin.saveSettings()})}),new T.Setting(e).setName("Overwrite previous highlights").setDesc("Normally, new highlights overwrite old ones. Turn this off to keep previous highlights when highlighting. You will have to clear highlights manually when changing their color.").addToggle(h=>{h.setValue(this.plugin.settings.overwriteMarks),h.onChange(y=>{this.plugin.settings.overwriteMarks=y,this.plugin.saveSettings()})});let n=new T.Setting(e);n.setName("Choose highlight style").setClass("painter-plugin-setting-item-pick-hl").setDesc("Depending on your design aesthetic, you may want to customize the style of your highlights. Choose from an assortment of different highlighter styles by using the dropdown. Depending on your theme, this plugin's CSS may be overriden.").addDropdown(h=>{let y={};Et.map(w=>y[w]=w),h.addOptions(y),h.setValue(this.plugin.settings.highlighterStyle).onChange(w=>{this.plugin.settings.highlighterStyle=w,this.plugin.saveSettings(),this.plugin.refresh()})});let o=()=>{let h=new DocumentFragment;if(this.plugin.settings.highlighterOrder.length===0)h.appendChild(createEl("em",{text:"Add atleast 1 color to showcase different styles"}));else{let y=xe(this.plugin.settings.highlighterOrder);for(let w of Et)h.createDiv({cls:`highlightr-${w}`}).createEl("mark",{cls:[`hltr-${y}`,"style-demo"],text:w})}return h},r=createEl("p",{cls:"painter-plugin-style-demo"});r.appendChild(o());let s=createEl("button",{text:"try different color"});s.addEventListener("click",()=>{r.textContent="",r.appendChild(o())}),n.infoEl.appendChild(r),n.infoEl.appendChild(s);let a=new T.Setting(e);a.setName("Choose highlight colors").setClass("painter-plugin-setting-item-pick-col").setDesc("Create new highlight colors by providing a color name and using the color picker to set the hex code value. Don't forget to save the color before exiting the color picker. Drag and drop the highlight color to change the order for your highlighter component.");let c=()=>{let h=O.getValue()||f;return h.startsWith("#")||(h="#"+h),h.length>7&&(h=h.slice(0,8)),h},l=()=>{let h=A.getValue()||"";return h.length>2&&(h=h.slice(0,3)),h},d=()=>c()+l(),f="#cca9ff",g=null,p=()=>{g!==null&&(g.style.backgroundColor=d(),_.setValue(c()),b(l()))},b=h=>{L.setValue(Math.round(_e(h)/255*100))},E=new T.TextComponent(a.controlEl);E.setPlaceholder("Color name"),E.inputEl.addClass("painter-plugin-settings-color");let O=new T.TextComponent(a.controlEl).setPlaceholder("Color HEX: Click off color picker to update");O.inputEl.addClass("painter-plugin-settings-value"),O.inputEl.setCssStyles({width:"5rem"});let A=new T.TextComponent(a.controlEl).setPlaceholder("Alpha");A.inputEl.setCssStyles({width:"2.75rem"}),A.setValue("ff");let _=new T.ColorComponent(a.controlEl);_.setValue(f),_.colorPickerEl.addEventListener("input",h=>{if(h.target==null&&h.currentTarget==null)return;let y=h.target||h.currentTarget;O.setValue(y.value),p()});let L=new T.SliderComponent(a.controlEl);L.setLimits(0,100,1),L.setValue(255),L.sliderEl.title="Alpha / opacity",L.sliderEl.addEventListener("input",h=>{if(h.target==null&&h.currentTarget==null)return;let y=h.target||h.currentTarget;L.showTooltip();let w=Math.round(y.valueAsNumber/100*255);A.setValue(Oe(w)),p()}),O.inputEl.addEventListener("input",h=>{var y;h.target==null&&h.currentTarget==null||(_.setValue((y=h.target||h.currentTarget)==null?void 0:y.value),p())}),A.inputEl.addEventListener("input",h=>{if(h.target==null&&h.currentTarget==null)return;let y=(h.target||h.currentTarget).value;b(y),p()}),g=a.controlEl.createDiv({cls:"painter-plugin-color-preview"}).createDiv({cls:"painter-plugin-color-preview2"}),new T.ButtonComponent(a.controlEl).setClass("painter-plugin-settings-button").setClass("painter-plugin-settings-button-add").setIcon("save").setTooltip("Save").onClick(async()=>{let h=E.getValue().replace(" ","-"),y=O.getValue();if(h.length>50&&(h=h.slice(0,51)),!h){new T.Notice("Painter: Color name missing");return}if(!y){new T.Notice("Painter: HEX code missing");return}if(!A){new T.Notice("Painter: Alpha value missing");return}this.plugin.settings.highlighterOrder.includes(h)||this.plugin.settings.highlighterOrder.push(h),this.plugin.settings.highlighters[h]=d(),await this.plugin.saveSettings(),this.topScroll=e.scrollTop,this.display(),dispatchEvent(new Event("painter:refreshstyles"))}),p();let z=e.createEl("div",{attr:{id:"painter-plugin-sortable-group"}});this.plugin.settings.highlighterOrder.forEach((h,y,w)=>{let G=z.createEl("div",{cls:"painter-plugin-item-color"}),q=G.createDiv({cls:"painter-plugin-setting-handle"});(0,T.setIcon)(q,"grip-vertical"),G.createEl("span",{cls:"painter-plugin-setting-icon"}).appendChild(Nt(this.plugin.settings.highlighters[h])),new T.Setting(G).setClass("painter-plugin-color-setting-item").setName(h).setDesc(this.plugin.settings.highlighters[h]).addButton(V=>{V.setClass("painter-plugin-settings-button").setClass("painter-plugin-settings-button-edit").setTooltip("edit").setIcon("wrench").onClick(()=>{let it=this.plugin.settings.highlighters[h];E.setValue(h),O.setValue(it.slice(0,7)),A.setValue(it.slice(7,9)||"ff"),p()})}).addButton(V=>{V.setClass("painter-plugin-settings-button").setClass("painter-plugin-settings-button-delete").setIcon("trash-2").setTooltip("Remove").onClick(async()=>{new T.Notice(`${h} highlight deleted`),this.app.commands.removeCommand(`highlightr-plugin:${h}`),delete this.plugin.settings.highlighters[h],this.plugin.settings.highlighterOrder.remove(h),setTimeout(()=>{dispatchEvent(new Event("painter:refreshstyles"))},100),await this.plugin.saveSettings(),this.topScroll=e.scrollTop,this.display()})}),createEl("a").setAttribute("href","")});let j=new tn(z,{group:"shared",animation:150,handle:".painter-plugin-setting-handle",ghostClass:"painter-plugin-ghost",onSort:({oldIndex:h,newIndex:y})=>{if(typeof h=="undefined"||typeof y=="undefined")return;let[w]=this.plugin.settings.highlighterOrder.splice(h,1);this.plugin.settings.highlighterOrder.splice(y,0,w),this.plugin.saveSettings()}});this.topScroll&&e.scrollTo({top:this.topScroll})}hide(){this.topScroll=null}};var qt=require("obsidian");var en="Paint",bt="Clear",nn="Open Painter Menu";var Gn=(i,t,e,n)=>{if(!e||!e.hasFocus()){new qt.Notice("Focus must be in editor");return}let o=e.getCursor("from"),r=new qt.Menu;r.dom.addClass("painter-plugin-menu-container"),t.menuMode==="minimal"&&r.dom.addClass("minimal"),t.highlighterOrder.forEach(l=>{let d=l.toLowerCase();r.addItem(f=>{f.setTitle(l),f.setIcon(`painter-icon-${d}`),f.onClick(()=>i.commands.executeCommandById(`painter:paint-${d}`))})}),e.getSelection()&&(r.addSeparator(),r.addItem(l=>{l.setTitle(bt),l.setIcon("eraser"),l.onClick(()=>n(e))}));let s=e.posToOffset(o),a=e.cm.coordsAtPos(s),c=e.editorComponent.tableCell;if(c&&c.editorEl!==null){let l=c.editorEl.getBoundingClientRect();r.showAtPosition({x:l.x+25,y:l.y+20})}else r.showAtPosition({x:a.right+25,y:a.top+20});r.dom.querySelectorAll(".menu-item").forEach(l=>{var g;let d=l.querySelector(".menu-item-icon"),f=l.querySelector(".menu-item-title");d===null||f===null||(d.title=(g=f==null?void 0:f.textContent)!=null?g:"")})},Zt=Gn;function be(i,t,e,n,o){let r=e.getSelection();t.addSeparator(),t.addItem(s=>{s.dom.addClass("painter-plugin-menu-button"),s.setTitle(en).setIcon("painter-icon").onClick(async()=>Zt(i,o,e,n.eraseHighlight.bind(n)))}),r&&t.addItem(s=>{s.setTitle(bt).setIcon("eraser").onClick(()=>{e.getSelection()&&n.eraseHighlight(e)})})}function Se(i){let t="";for(let[e,n]of Object.entries(i.highlighters)){let o=e.toLowerCase();t+=`
		.hltr-${o}, mark.hltr-${o}, .markdown-preview-view mark.hltr-${o} {
			--hltr-color: ${n};
		}
		`}Ee(),document.head.createEl("style",{attr:{id:"painter-styles"},text:t})}function Ee(){let i=document.getElementById("painter-styles");i!==null&&i.remove()}var on={ch:0,ln:0,cursor:"to"},$n={expand:!0,moveCursorToEnd:!1},Xn=new DOMParser;function Yn(i,t=on){let e=Object.assign(on,t),n=i.getCursor(e.cursor);n.ch+=e.ch,e.ln&&(n.line+=e.ln),i.setCursor(n)}function we(i,t,e=!1){let n=i.getCursor("head"),o=i.getSelection(),r=Xn.parseFromString(o,"text/html"),s=!0;for(let c of t)if(r.querySelectorAll(c).length>0){s=!1;break}if(s)return;for(let c of t)r.querySelectorAll(c).forEach(l=>{l.replaceWith(...Array.from(l.childNodes))});let a=r.body.innerHTML;i.replaceSelection(a),i.hasFocus()||i.focus(),e&&i.setSelection(n,i.getCursor("head"))}var Wn=['"',"(","[","###### ","##### ","#### ","### ","## ","# ","- [ ] ","- [x] ","- ",">"," ",`
`,"	"],jn=['"',")","](","::","]",`
`,"	"," "],Vn=[["#",""],["[[","]]"],["","]]"],["[[",""],['"','"'],["'","'"],["(",")"],["$",""],["","\u20AC"],["",": ","trim_last_space"],["[","] ","trim_last_space"]],Kn=["png","jpg","jpeg","gif","tiff"],ye=(i,t)=>i.line===t.line&&i.ch===t.ch,Un=(i,t)=>ye(i.anchor,t.anchor)&&ye(i.head,t.head),At=class{constructor(t){this.editor=t}startOffset(){return this.editor.posToOffset(this.editor.getCursor("from"))}endOffset(){return this.editor.posToOffset(this.editor.getCursor("to"))}noteLength(){return this.editor.getValue().length}offToPos(t){return t<0&&(t=0),t>this.noteLength()&&(t=this.noteLength()),this.editor.offsetToPos(t)}isOutsideSelection(t,e){let n=this.startOffset(),o=this.endOffset();if(n-t.length<0||o-e.length>this.noteLength())return!1;let r=this.editor.getRange(this.offToPos(n-t.length),this.offToPos(n)),s=this.editor.getRange(this.offToPos(o),this.offToPos(o+e.length));return r===t&&s===e}isMultiLineMarkup(t){return["`","%%","<!--","$"].includes(t)}markupOutsideSel(t,e){return this.isOutsideSelection(t,e)}markupOutsideMultiline(t,e,n,o){if(n.line===0||o.line===this.editor.lastLine())return!1;let r=this.editor.getLine(n.line-1),s=this.editor.getLine(o.line+1);return r.startsWith(t)&&s.startsWith(e)}getSel(){return{anchor:this.editor.getCursor("anchor"),head:this.editor.getCursor("head")}}noSel(){return!this.editor.somethingSelected()}multiLineSel(){return this.editor.getSelection().includes(`
`)}deleteLine(t){if(t<this.editor.lastLine()){let e={line:t,ch:0},n={line:t+1,ch:0};this.editor.replaceRange("",e,n)}else{let e={line:t-1,ch:this.editor.getLine(t).length},n={line:t,ch:this.editor.getLine(t).length};this.editor.replaceRange("",e,n)}}textUnderCursor(t,e,n){if(this.markupOutsideSel(t,e)&&this.noSel())return{anchor:n,head:n};let o,r;if(t!=="`"){if(this.editor.cm instanceof window.CodeMirror)return this.editor.cm.findWordAt(n);let s=this.editor.cm.state.wordAt(this.editor.posToOffset(n));if(!s)return{anchor:n,head:n};r=this.offToPos(s.from),o=this.offToPos(s.to)}if(t==="`"||t==="$"){let s=this.editor.posToOffset(n),a,c,[l,d,f,g]=[0,0,!1,!1];for(;!/\s/.test(c)&&!g;)c=this.editor.getRange(this.offToPos(s-(l+1)),this.offToPos(s-l)),l++,s-(l-1)===0&&(g=!0);for(;!/\s/.test(a)&&!f;)a=this.editor.getRange(this.offToPos(s+d),this.offToPos(s+d+1)),d++,s+(d-1)===this.noteLength()&&(f=!0);r=this.offToPos(s-(l-1)),o=this.offToPos(s+(d-1))}return{anchor:r,head:o}}trimSelection(t,e){let n=jn,o=Wn;this.isMultiLineMarkup(t)?(o=[t],n=[e]):e&&(o.push(t),n.push(e));let r=this.editor.getSelection(),s=this.startOffset(),a=!1;for(;!a;){let l=0;for(let d of o)r.startsWith(d)?(r=r.slice(d.length),s+=d.length):l++;(l===o.length||!r.length)&&(a=!0)}for(a=!1;!a;){let l=0;for(let d of n)r.endsWith(d)?r=r.slice(0,-d.length):l++;(l===n.length||!r.length)&&(a=!0)}let c=r.match(/ \^\w+$/);c&&(r=r.slice(0,-c[0].length)),this.editor.setSelection(this.offToPos(s),this.offToPos(s+r.length))}expandSelection(t,e,n=!0){this.trimSelection(t,e);let o=this.editor.getCursor("from"),r=this.editor.getCursor("to"),s=this.textUnderCursor(t,e,o),a=this.textUnderCursor(t,e,r);if(!ye(o,r)&&r.ch>0){let l=this.textUnderCursor(t,e,{...r,ch:r.ch-1});Un(a,l)||(a=l)}this.editor.setSelection(s.anchor,a.head),this.trimSelection(t,e);let c=Vn;for(let l of c){if(l[0]===t||l[1]===e)return;let d=Boolean(l[2]);this.isOutsideSelection(l[0],l[1])&&(s.anchor.ch-=l[0].length,a.head.ch+=l[1].length,d&&a.head.ch--,this.editor.setSelection(s.anchor,a.head))}return n?{anchor:s.anchor,head:a.head}:{anchor:o,head:r}}recalibratePos(t,e){for(let n of t)e.line===n.line&&(e.ch+=n.shift);return e}async insertURLtoMDLink(t,e){let n=(await navigator.clipboard.readText()).trim(),o=t,r=e;if(Ie(n)){r="]("+n+")";let s=n.split(".").pop();s&&Kn.includes(s)&&(o="![")}return[o,r]}async wrapSelection(t,e,n){var f;let o=Object.assign($n,n),r=(g,p,b,E=!0)=>{let O=this.editor.getSelection(),A=this.startOffset(),_=this.endOffset();this.noSel()&&b==="multi"||(this.markupOutsideSel(t,e)||(["%%","<!--"].includes(t)&&(O=" "+O+" ",_=_+2,a++,c++),this.editor.replaceSelection(t+O+e),l.push({line:g.line,shift:a},{line:p.line,shift:c}),g.ch+=a,p.ch+=a),this.markupOutsideSel(t,e)&&(this.editor.setSelection(this.offToPos(A-a),this.offToPos(_+c)),this.editor.replaceSelection(O),l.push({line:g.line,shift:-a},{line:p.line,shift:-c}),g.ch-=a,p.ch-=a),b==="single"&&(o.moveCursorToEnd?Yn(this.editor,{ch:1}):this.editor.setSelection(g,p)))};function s(){let g=this.editor.getCursor("from");g.ch=0;let p=this.editor.getCursor("to");if(p.ch=this.editor.getLine(p.line).length,t==="`"?(t="```",e="```",c=3,a=3):t==="$"&&(t="$$",e="$$",c=2,a=2),!this.markupOutsideMultiline(g,p)&&(this.editor.setSelection(g),this.editor.replaceSelection(t+`
`),p.line++,this.editor.setSelection(p),this.editor.replaceSelection(`
`+e),t==="```")){let b=g;b.ch=3,this.editor.setSelection(b)}this.markupOutsideMultiline(g,p)&&(this.deleteLine(g.line-1),this.deleteLine(p.line))}if(t==="new-line"){editor.newlineOnly();return}e==="]()"&&([t,e]=await this.insertURLtoMDLink(t,e));let a=t.length,c=e.length,l=[],d=(f=this.editor)==null?void 0:f.listSelections();for(let g of d)if(g.anchor=this.recalibratePos(l,g.anchor),g.head=this.recalibratePos(l,g.head),this.editor.setSelection(g.anchor,g.head),this.trimSelection(t,e),this.multiLineSel()){if(this.multiLineSel()&&this.isMultiLineMarkup(t))s();else if(this.multiLineSel()&&!this.isMultiLineMarkup(t)){let p=this.startOffset(),b=this.editor.getSelection().split(`
`);for(let E of b){this.editor.setSelection(this.offToPos(p),this.offToPos(p+E.length));let{anchor:O,head:A}=o.expand?this.expandSelection(t,e,!1):this.getSel();p+=E.length+1,this.markupOutsideSel(t,e)?p-=a+c:p+=a+c,r(O,A,"multi")}}}else{let{anchor:p,head:b}=o.expand?this.expandSelection(t,e,!1):this.getSel();r(p,b,"single")}}};var Qt=class extends rn.Plugin{async onload(){console.log(`Painter v${this.manifest.version} loaded`),await this.loadSettings(),this.app.workspace.onLayoutReady(()=>{this.reloadStyles(this.settings),ee(this.settings,this)}),this.registerEvent(this.app.workspace.on("editor-menu",this.handleHighlighterInContextMenu.bind(this))),this.addSettingTab(new zt(this.app,this)),this.addCommand({id:"open-menu",name:nn,icon:"painter-icon",editorCallback:e=>{document.querySelector(".menu.painter-plugin-menu-container")||Zt(this.app,this.settings,e,this.eraseHighlight.bind(this))}}),addEventListener("painter:refreshstyles",()=>{this.reloadStyles(this.settings),this.generateCommands(this.editor),ee(this.settings,this)}),this.generateCommands(this.editor),this.refresh()}reloadStyles(e){let n=document.querySelector("style#highlightr-styles");n?(n.remove(),Se(e)):Se(e)}eraseHighlight(e){we(e,[...this.settings.cleanSelectors,"mark"])}createPrefix(e,n,o,r){let a=o==="css-classes"?`class="hltr-${n.toLowerCase()}"`:`style="${r==="text-color"?"color":"background-color"}:${this.settings.highlighters[n]}"`;return`<${e} ${a}>`}applyCommand(e,n){let o=e.prefix,r=e.suffix||o;this.settings.overwriteMarks&&we(n,["mark"],!0);let s=new At(n);s.trimSelection(o,r),s.wrapSelection(o,r,{expand:n.getSelection().length===0,moveCursorToEnd:!0})}generateCommands(e){for(let n of this.settings.highlighterOrder){let o=n.toLowerCase(),r={char:0,line:0,prefix:this.createPrefix("mark",n,this.settings.highlighterMethods,this.settings.highlighterStyle),suffix:"</mark>"};this.addCommand({id:`paint-${o}`,name:n,icon:`painter-icon-${o}`,editorCallback:async s=>{this.applyCommand(r,s)}}),this.addCommand({id:"remove-highlight",name:bt,icon:"eraser",editorCallback:async s=>{this.eraseHighlight(s),s.focus()}})}}refresh(){this.updateStyle()}updateStyle(){for(let e of Et)document.body.classList.toggle(`highlightr-${e}`,this.settings.highlighterStyle===e)}onunload(){Ee(),console.log("Painter unloaded")}handleHighlighterInContextMenu(e,n){be(this.app,e,n,this,this.settings)}async loadSettings(){this.settings=Object.assign({},Te,await this.loadData())}async saveSettings(){await this.saveData(this.settings)}};
/*! Bundled license information:

sortablejs/modular/sortable.esm.js:
  (**!
   * Sortable 1.15.2
   * @author	RubaXa   <trash@rubaxa.org>
   * @author	owenm    <owen23355@gmail.com>
   * @license MIT
   *)
*/
